{% if messages.is_empty() %}
<div class="bg-secondary text-center">end of message history</div>
{% else %}
<div hx-get="./messages?before={{ last_message_stamp|urlencode_strict }}" hx-trigger="intersect once delay:1s"
	hx-target="this" hx-swap="outerHTML" class="bg-secondary text-center">
	loading more messages...
</div>
{% endif %}

{% for message in messages %}
{{ message|safe }}
{% endfor %}
