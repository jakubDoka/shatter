{% for message in messages.iter().rev() %}
{{ message|safe }}
{% endfor %}

{% if messages.is_empty() %}
<div class="bg-secondary text-center">end of message history</div>
{% else %}
<div hx-get="./messages?before={{ last_message_stamp|urlencode_strict }}" hx-trigger="intersect once" hx-target="this"
	hx-swap="outerHTML" class="bg-secondary text-center">
	loading more messages...
</div>
{% endif %}
